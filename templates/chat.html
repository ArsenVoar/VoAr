{{ define "chat"}}
<!-- Define the "chat" template -->

{{ template "Header"}} <!-- Include the "Header" template -->

<input id="input" type="text" /> <!-- Input field for user messages -->
<button onclick="send()">Send</button> <!-- Button to send messages -->
<pre id="output"></pre> <!-- Output area to display messages -->

<script>
    // JavaScript code for WebSocket communication
    var input = document.getElementById("input"); // Reference to the input field
    var output = document.getElementById("output"); // Reference to the output area
    var socket = new WebSocket("ws://localhost:8888/echo"); // WebSocket connection to the server

    socket.onopen = function () {
        // Event handler for when the WebSocket connection is open
        output.innerHTML += "Status: Connected\n"; // Display status message
    };

    socket.onmessage = function (e){
        // Event handler for incoming messages from the server
        output.innerHTML += "Server:" + e.data + "\n"; // Display server message
    };

    function send() {
        // Function to send user input to the server
        socket.send(input.value); // Send the input value to the server
        input.value = ""; // Clear the input field after sending
    }
</script>

{{ template "Footer"}} <!-- Include the "Footer" template -->

{{ end }}
